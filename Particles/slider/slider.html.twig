{% extends '@nucleus/partials/particle.html.twig' %}

{% block particle %}
<div id="ai-carousel" class="carousel slide" data-ride="carousel" data-interval="600">
    
    <!-- Indicators -->
    <ol class="carousel-indicators">
        {% for item in particle.items %}
            {% if loop.first %} {% set active = 'active' %} {% else %} {% set active = '' %} {% endif %}
                <li data-target="#ai-carousel" data-slide-to="{{ loop.index0 }}" class="{{ active }}"></li>
        {% endfor %}
    </ol>
    
    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">
        {% for item in particle.items %}
            {% if loop.first %} {% set active = 'active' %} {% else %} {% set active = '' %} {% endif %}
                <div class="item {{ active }}">
                    <img src="{{ url(item.image) }}" alt="{{ item.headline }}">
                    {% if item.headline or item.intro %} <div class="carousel-caption">
                        {% if item.hlink %}<h3><a href="{{ item.hlink }}">{{ item.headline }}</a></h3>
                        {% elseif item.headline %}<h3>{{ item.headline }}</h3> {% endif %}
                        <p> {{ item.intro }} </p>
                    </div> {% endif %}
                </div>
        {% endfor %}
    </div>
    
    <!-- Controls -->
    <a class="left carousel-control" href="#ai-carousel" role="button" data-slide="prev">
        <i class="fa fa-angle-left" aria-hidden="true"></i>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#ai-carousel" role="button" data-slide="next">
        <i class="fa fa-angle-right" aria-hidden="true"></i>
        <span class="sr-only">Next</span>
    </a>
    
</div>
{% endblock %}

{% do gantry.theme.joomla(true) %}
{% block javascript_footer %}
    {{ parent() }}
    <script src="{{ url('gantry-theme://js/carousel.js') }}"></script>
{% endblock %}